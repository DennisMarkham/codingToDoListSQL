<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>To Do List</title>
  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

</head>
<body onload = "showList()">

<ol></ol>

  <script type="text/javascript">
     

    function showList(){
  

      $.get("/api/toDoList", function(data) {
        console.log(data);

        for (var i = 0; i < data.length; i++) 
        {
          $("ol").append("<li>" + data[i] + "<button id ='" + i + "'><span class='glyphicon glyphicon-remove'></span></button>" + "</li>");
    }
      
       
        
      });
    };

$('ol').on('click', 'button', function(){
console.log("This is the item I want to delete: " + $(this).parent().text());
var item2delete = {deleteThis: $(this).parent().text()};
//NOTE I MAY NEED TO MAKE item2delete an object for this to work.

 $.post("/api/delete", item2delete).then(function(data) {
        console.log(data);
        alert("Deleting item...");
      });
});

  </script>
</body>
</html>